# Dockerfile f√ºr Jupyterhub

```js
FROM jupyter/base-notebook

ARG NB_USER
USER ${NB_USER} 

# Copy environment files
USER root
RUN chmod ugo+rw /etc/jupyter
RUN rm -rf /tmp/exchange
RUN mkdir /tmp/exchange
RUN apt-get update && apt-get install -y graphviz
# Set the default user
ARG NB_USER
USER ${NB_USER}
# Install systemwide JupyterLab extension
RUN pip install 'jupyter-collaboration==2.1.1' 'nbgrader==0.9.3'\
    && pip install matplotlib ipympl plotly virtualenv jupyterlab_logout \
    && pip install 'jlab_homepage==0.1.13' 'jupyterlab_forum==0.1.25' 'databrix_hub_extension==0.1.18'
# Add more environment files as needed

# Create Virtual environments
#User root
#SHELL ["/bin/bash", "-c"]

RUN virtualenv /opt/conda/share/jupyter/lab/dhbw-kurs \
    && source /opt/conda/share/jupyter/lab/dhbw-kurs/bin/activate \
    && pip install -r /opt/requirements_dhbw-kurs.txt \
    && python -m ipykernel install --user --name=DHBW-Kurs
# Activate Virtual environments and install IPython kernels

RUN jupyter labextension disable nbgrader:create-assignment \
    && jupyter labextension lock nbgrader:create-assignment \
    && jupyter labextension disable nbgrader:formgrader \
    && jupyter labextension lock nbgrader:formgrader \
    && jupyter labextension disable nbgrader:course-list \
    && jupyter labextension lock nbgrader:course-list \
    && jupyter labextension disable @jupyterlab/launcher-extension \
    && jupyter labextension lock @jupyterlab/launcher-extension \
    && jupyter labextension disable @jupyterlab/apputils-extension:announcements \
    && jupyter labextension lock @jupyterlab/apputils-extension:announcements \
    && jupyter labextension disable @jupyterlab/filebrowser-extension \
    && jupyter labextension lock @jupyterlab/filebrowser-extension \
    && jupyter lab build
```

## Referecnces

1. [Offizielle Jupyterlab Image](https://jupyter-docker-stacks.readthedocs.io/en/latest/)
2. [Kernel Installieren](https://jupyter-docker-stacks.readthedocs.io/en/latest/using/recipes.html#add-a-custom-conda-environment-and-jupyter-kernel)
